<!DOCTYPE html>
<html>
<head>
  <title>Apache Groovy Community</title>
  <link rel="shortcut icon" href="favicon.ico">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
  <link rel="stylesheet" href="app.css">
</head>
<body>
    <div class="clippy" style="display: block; width: 124px; height: 93px; background: url(&quot;https://s3.amazonaws.com/clippy.js/Agents/Clippy/map.png&quot;) -248px -3069px no-repeat; position: fixed; bottom: 10px; right: 10px;"></div>
    <div class="clippy-notes" style="display: block;width: 200px;height: 125px;position: fixed;bottom: 75px;right: 100px;border: 1px solid;background: #f8f6c7;border-radius: 10px; padding: 5px;">
      <span id="clippy-text" style="font-size: 12px; color: black">Hey there! It looks like you want to join the Apache Groovy Community Slack!
        We verify all invitation requests, so the more information you give, the better!</span>
    </div>
    <header>
      <div class="brand"></div>
    </header>
    <div class="container" id="main">
      <form action="https://bot.groovycommunity.com/signup" method="POST">
        <h3>Invitation to Apache Groovy Community Slack</h3>
        <div class="form-group" id="name-container">
          <label class="sr-only" for="name">Name</label>
          <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-user"></i></div>
            <input type="text" class="form-control" id="name" name="name" placeholder="First and Last Name">
          </div>
        </div>

        <div class="form-group" id="email-container">
          <label class="sr-only" for="email">Email Address</label>
          <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-envelope"></i></div>
            <input type="text" class="form-control" id="email" name="email" placeholder="Email Address">
          </div>
        </div>

        <div class="form-group" id="twitter-container">
          <label class="sr-only" for="twitter">Twitter</label>
          <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-twitter"></i></div>
            <input type="text" class="form-control" id="twitter" name="twitter" placeholder="Twitter (optional)">
          </div>
        </div>

        <div class="form-group" id="github-container">
          <label class="sr-only" for="github">Github</label>
          <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-github"></i></div>
            <input type="text" class="form-control" id="github" name="github" placeholder="Github (optional)">
          </div>
        </div>

        <div class="form-group" id="linkedin-container">
          <label class="sr-only" for="linkedin">LinkedIn</label>
          <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-linkedin"></i></div>
            <input type="text" class="form-control" id="linkedin" name="linkedin" placeholder="LinkedIn (optional)">
          </div>
        </div>

        <div class="form-group" id="website-container">
          <label class="sr-only" for="linkedin">WebSite</label>
          <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-globe"></i></div>
            <input type="text" class="form-control" id="website" name="website" placeholder="Website (optional)">
          </div>
        </div>

        <div class="form-group" id="about-container">
          <label class="sr-only" for="about">A little about yourself</label>
          <textarea rows="3" class="form-control" id="about" name="about" placeholder="Tell us a little about yourself"></textarea>
        </div>

        <input type="hidden" name="redirect_uri" value="https://groovycommunity.com/success_signup.html">
        <input type="hidden" name="team_id" value="T2LNDB8SG">

        <p>We verify all invitation requests. This information is not retained after the verification process. If we
          are unable to find your email address associated with one of the links provided, an employer's custom domain,
          or the Apache Groovy mailing list your request may be delayed or denied. Also, users are limited to one account per
          person, duplicates will be rejected.</p>

        <div class="checkbox" id="coc-container">
          <label>
            <input type="checkbox" name="coc" id="coc"> By checking here you agree to the
              <a href="/coc.html" target="_blank">Code of Conduct</a>
            and Apache Groovy Community Slack <a href="/process.html" target="_blank">Processes</a>. Please read carefully
            before submitting.
          </label>
        </div>

        <div class="form-group" id="question-container">
          <label class="sr-only" for="question">Question</label>
          <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-question"></i></div>
            <input type="text" class="form-control" id="question" name="question" placeholder="40 + 2 =">
          </div>
        </div>

        <button type="submit" class="btn btn-default">Submit</button>
        <p style="margin-top:50px;">Please note: This community is a privately run community and is not affiliated with the official Apache Groovy project.</p>
      </form>
    </div>

<script type="text/javascript">
var clippyText = document.querySelector("#clippy-text");
var form = document.querySelector("form");
var handler = form.submit;
var required_fields = ['name', 'email', 'about', 'coc', 'question'];

function clearFieldErr (container) {
  container.style.border = "";
}

function fieldErr (container) {
  container.style.border = "2px solid #f00";
  container.style.borderRadius = "6px";
}

function formValidator() {
  var err = false;
  for (idx in required_fields) {
    var field = required_fields[idx];
    var elem = document.querySelector('#' + field);
    var container = document.querySelector('#' + field + '-container');
    if (elem.type === "text" || elem.type === "textarea") {
      var val = elem.value ? elem.value.trim() : null;
      if (val) {
        clearFieldErr(container);
      } else {
        fieldErr(container);
        err = true;
      }
    } else if (elem.type === "checkbox") {
      if (elem.checked) {
        clearFieldErr(container);
      } else {
        fieldErr(container);
        err = true;
      }
    }
  }
  if (err) {
    clippyText.innerHTML = "You need to fill out all the required fields";
  } else {
    form.submit();
  }
}

form.onsubmit = function (e) {
  e.preventDefault();
  formValidator();
  return false;
};
</script>

</body>
</html>
